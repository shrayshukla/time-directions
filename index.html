<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>English Fairy - Learn & Play! üåü</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --sky: #87CEEB;
    --sun: #FFD700;
    --grass: #7EC850;
    --snow: #E8F4FD;
    --red: #FF6B6B;
    --green: #4CAF50;
    --purple: #9B59B6;
    --orange: #FF9500;
    --pink: #FF69B4;
    --teal: #00BCD4;
    --star: #FFD700;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Nunito', sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Floating stars background */
  .bg-stars {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
  }
  .star-bg {
    position: absolute;
    font-size: 20px;
    animation: floatStar 6s ease-in-out infinite;
    opacity: 0.3;
  }
  @keyframes floatStar {
    0%,100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
  }

  /* HOME SCREEN */
  #home {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    position: relative;
    z-index: 1;
    padding: 20px;
    text-align: center;
  }

  .home-title {
    font-family: 'Fredoka One', cursive;
    font-size: clamp(40px, 8vw, 80px);
    color: white;
    text-shadow: 4px 4px 0 rgba(0,0,0,0.2), 0 0 40px rgba(255,255,200,0.5);
    animation: bounce 2s ease-in-out infinite;
    margin-bottom: 10px;
  }
  @keyframes bounce {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  .home-subtitle {
    font-size: 22px;
    color: rgba(255,255,255,0.9);
    margin-bottom: 50px;
    font-weight: 700;
  }

  .chapter-cards {
    display: flex;
    gap: 30px;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 40px;
  }

  .chapter-card {
    background: white;
    border-radius: 30px;
    padding: 30px 40px;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    max-width: 300px;
    border: 4px solid transparent;
    position: relative;
    overflow: hidden;
  }
  .chapter-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 6px;
  }
  .chapter-card.christmas::before { background: linear-gradient(90deg, #e74c3c, #2ecc71, #e74c3c); }
  .chapter-card.seasons::before { background: linear-gradient(90deg, #f39c12, #27ae60, #3498db, #e74c3c); }
  .chapter-card:hover { transform: translateY(-10px) scale(1.03); box-shadow: 0 20px 60px rgba(0,0,0,0.3); }

  .card-emoji { font-size: 60px; margin-bottom: 15px; display: block; }
  .card-title { font-family: 'Fredoka One', cursive; font-size: 28px; margin-bottom: 8px; }
  .card-desc { font-size: 15px; color: #666; line-height: 1.4; }
  .christmas .card-title { color: #e74c3c; }
  .seasons .card-title { color: #27ae60; }

  /* CHAPTER SCREENS */
  .chapter-screen {
    display: none;
    min-height: 100vh;
    position: relative;
    z-index: 1;
  }
  .chapter-screen.active { display: block; }

  .chapter-header {
    padding: 20px 30px;
    display: flex;
    align-items: center;
    gap: 15px;
    position: sticky;
    top: 0;
    z-index: 100;
    backdrop-filter: blur(10px);
    background: rgba(255,255,255,0.15);
  }
  .back-btn {
    background: white;
    border: none;
    border-radius: 50%;
    width: 48px; height: 48px;
    font-size: 22px;
    cursor: pointer;
    transition: transform 0.2s;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
  }
  .back-btn:hover { transform: scale(1.1); }
  .chapter-nav {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    flex: 1;
  }
  .nav-btn {
    background: rgba(255,255,255,0.25);
    color: white;
    border: 2px solid rgba(255,255,255,0.5);
    border-radius: 20px;
    padding: 8px 18px;
    font-family: 'Nunito', sans-serif;
    font-size: 13px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
  }
  .nav-btn.active, .nav-btn:hover {
    background: white;
    color: #7B2D8B;
    border-color: white;
  }

  .section-panel {
    display: none;
    padding: 20px 30px 40px;
    max-width: 900px;
    margin: 0 auto;
  }
  .section-panel.active { display: block; }

  /* CARDS / PANELS */
  .card {
    background: white;
    border-radius: 24px;
    padding: 30px;
    margin-bottom: 25px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    animation: slideUp 0.4s ease;
  }
  @keyframes slideUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .section-title {
    font-family: 'Fredoka One', cursive;
    font-size: 28px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  /* POEM DISPLAY */
  .poem-container {
    background: linear-gradient(135deg, #fff9f0, #fff0f5);
    border-radius: 20px;
    padding: 30px;
    border: 3px solid #ffd6e7;
    position: relative;
    overflow: hidden;
  }
  .poem-line {
    font-size: 20px;
    line-height: 2.2;
    cursor: pointer;
    padding: 5px 12px;
    border-radius: 10px;
    transition: background 0.2s;
    position: relative;
  }
  .poem-line:hover { background: rgba(255,182,193,0.3); }
  .poem-line .highlight { font-weight: 800; }
  .poem-line .christmas-word { color: #e74c3c; font-weight: 800; }
  .poem-line .green-word { color: #27ae60; font-weight: 800; }
  .poem-line .blue-word { color: #3498db; font-weight: 800; }
  .poem-attribution { text-align: right; font-style: italic; color: #999; margin-top: 15px; font-size: 16px; }

  /* VOCABULARY CARDS */
  .vocab-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 15px;
  }
  .vocab-card {
    background: linear-gradient(135deg, var(--color1), var(--color2));
    border-radius: 20px;
    padding: 20px 15px;
    text-align: center;
    color: white;
    cursor: pointer;
    transition: transform 0.3s;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    position: relative;
    overflow: hidden;
  }
  .vocab-card:hover { transform: scale(1.05) rotate(1deg); }
  .vocab-card .v-emoji { font-size: 40px; margin-bottom: 8px; display: block; }
  .vocab-card .v-word { font-family: 'Fredoka One', cursive; font-size: 20px; margin-bottom: 5px; }
  .vocab-card .v-meaning { font-size: 13px; opacity: 0.9; }

  /* QUIZ SECTION */
  .quiz-container { }
  .question-box {
    background: linear-gradient(135deg, #667eea22, #764ba222);
    border: 3px solid #764ba2;
    border-radius: 20px;
    padding: 25px;
    margin-bottom: 20px;
  }
  .question-text {
    font-size: 20px;
    font-weight: 800;
    color: #2c3e50;
    margin-bottom: 20px;
    line-height: 1.5;
  }
  .question-num {
    font-size: 13px;
    color: #764ba2;
    font-weight: 700;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  .options-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }
  .option-btn {
    background: white;
    border: 3px solid #e0e0e0;
    border-radius: 16px;
    padding: 14px 18px;
    font-family: 'Nunito', sans-serif;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
  }
  .option-btn:hover { border-color: #764ba2; background: #f0e6ff; transform: translateY(-2px); }
  .option-btn.correct { background: #d4efdf; border-color: #27ae60; color: #1a5c35; }
  .option-btn.wrong { background: #fadbd8; border-color: #e74c3c; color: #7b241c; }
  .option-btn:disabled { cursor: default; }

  .feedback-msg {
    font-size: 20px;
    font-weight: 800;
    text-align: center;
    padding: 15px;
    border-radius: 15px;
    margin-top: 15px;
    display: none;
    animation: popIn 0.3s ease;
  }
  @keyframes popIn {
    from { transform: scale(0.7); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
  .feedback-msg.correct { background: #d4efdf; color: #27ae60; display: block; }
  .feedback-msg.wrong { background: #fadbd8; color: #e74c3c; display: block; }

  .quiz-controls {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-top: 20px;
    flex-wrap: wrap;
  }
  .next-btn, .restart-btn {
    padding: 14px 30px;
    border-radius: 50px;
    font-family: 'Fredoka One', cursive;
    font-size: 18px;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
  .next-btn { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
  .next-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.3); }
  .restart-btn { background: linear-gradient(135deg, #f39c12, #e74c3c); color: white; }

  .score-display {
    font-family: 'Fredoka One', cursive;
    font-size: 18px;
    color: #764ba2;
  }

  /* FILL IN THE BLANKS */
  .blank-exercise {
    background: linear-gradient(135deg, #ffecd2, #fcb69f22);
    border-radius: 20px;
    padding: 25px;
    margin-bottom: 15px;
    border: 2px solid #f39c1244;
  }
  .blank-sentence {
    font-size: 18px;
    font-weight: 600;
    line-height: 2;
    margin-bottom: 15px;
    color: #2c3e50;
  }
  .blank-input {
    border: 3px solid #f39c12;
    border-radius: 12px;
    padding: 8px 15px;
    font-family: 'Nunito', sans-serif;
    font-size: 16px;
    font-weight: 700;
    outline: none;
    width: 160px;
    text-align: center;
    transition: border-color 0.2s;
  }
  .blank-input:focus { border-color: #764ba2; }
  .blank-input.correct-ans { border-color: #27ae60; background: #d4efdf; }
  .blank-input.wrong-ans { border-color: #e74c3c; background: #fadbd8; }

  .word-bank {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 20px;
    padding: 15px;
    background: rgba(255,255,255,0.7);
    border-radius: 15px;
  }
  .word-chip {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 8px 18px;
    border-radius: 50px;
    font-weight: 700;
    font-size: 15px;
    cursor: pointer;
    transition: all 0.2s;
    user-select: none;
  }
  .word-chip:hover { transform: scale(1.05); }
  .word-chip.used { opacity: 0.4; cursor: default; text-decoration: line-through; }

  .check-btn {
    background: linear-gradient(135deg, #11998e, #38ef7d);
    color: white;
    border: none;
    border-radius: 50px;
    padding: 12px 28px;
    font-family: 'Fredoka One', cursive;
    font-size: 18px;
    cursor: pointer;
    margin-top: 20px;
    transition: all 0.2s;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
  .check-btn:hover { transform: translateY(-3px); }

  /* T/F ACTIVITY */
  .tf-item {
    background: white;
    border: 3px solid #e0e0e0;
    border-radius: 16px;
    padding: 18px 20px;
    margin-bottom: 12px;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 15px;
    flex-wrap: wrap;
    transition: all 0.2s;
  }
  .tf-text { font-size: 16px; font-weight: 600; color: #2c3e50; flex: 1; }
  .tf-buttons { display: flex; gap: 10px; }
  .tf-btn {
    padding: 8px 20px;
    border-radius: 50px;
    border: 2px solid #ccc;
    font-family: 'Nunito', sans-serif;
    font-weight: 800;
    font-size: 15px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .tf-btn.t-btn:hover, .tf-btn.t-btn.selected-t { background: #d4efdf; border-color: #27ae60; color: #27ae60; }
  .tf-btn.f-btn:hover, .tf-btn.f-btn.selected-f { background: #fadbd8; border-color: #e74c3c; color: #e74c3c; }
  .tf-item.revealed-true { border-color: #27ae60; background: #f0fff4; }
  .tf-item.revealed-false { border-color: #e74c3c; background: #fff0f0; }

  /* MATCH THE WORDS */
  .match-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
  }
  .match-col { display: flex; flex-direction: column; gap: 10px; }
  .match-item {
    padding: 14px 18px;
    border-radius: 16px;
    font-weight: 700;
    font-size: 16px;
    cursor: pointer;
    border: 3px solid transparent;
    transition: all 0.2s;
    text-align: center;
  }
  .match-left { background: #e8f4fd; border-color: #3498db; color: #1a5276; }
  .match-right { background: #fef9e7; border-color: #f39c12; color: #7d6608; }
  .match-item.selected { transform: scale(1.05); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
  .match-item.matched { background: #d5f5e3; border-color: #27ae60; color: #1a5c35; cursor: default; }

  /* STORY READER */
  .story-page {
    background: linear-gradient(135deg, #e8f5e9, #e3f2fd);
    border-radius: 20px;
    padding: 25px;
    margin-bottom: 15px;
    border: 3px solid #a5d6a7;
  }
  .story-speaker {
    display: inline-block;
    background: #2196f3;
    color: white;
    padding: 4px 14px;
    border-radius: 50px;
    font-size: 13px;
    font-weight: 700;
    margin-bottom: 10px;
  }
  .story-text {
    font-size: 17px;
    line-height: 1.8;
    color: #2c3e50;
  }
  .season-tag {
    display: inline-block;
    padding: 6px 18px;
    border-radius: 50px;
    font-weight: 800;
    font-size: 14px;
    margin-bottom: 10px;
  }
  .spring-tag { background: #d4efdf; color: #1a5c35; }
  .summer-tag { background: #fef9e7; color: #7d6608; }
  .autumn-tag { background: #fdebd0; color: #7d3c98; }
  .winter-tag { background: #e8f4fd; color: #1a5276; }

  /* ADJECTIVES GAME */
  .adj-sentence {
    font-size: 18px;
    font-weight: 600;
    line-height: 2.2;
    color: #2c3e50;
    margin-bottom: 12px;
  }
  .adj-input {
    border: 3px solid #3498db;
    border-radius: 12px;
    padding: 6px 14px;
    font-family: 'Nunito', sans-serif;
    font-size: 16px;
    font-weight: 700;
    width: 150px;
    outline: none;
  }
  .adj-input.correct-ans { border-color: #27ae60; background: #d4efdf; }
  .adj-input.wrong-ans { border-color: #e74c3c; background: #fadbd8; }

  /* JOINING WORDS GAME */
  .join-sentence {
    font-size: 17px;
    font-weight: 600;
    background: #f8f9fa;
    border-radius: 14px;
    padding: 15px 18px;
    margin-bottom: 12px;
    border-left: 5px solid #3498db;
  }
  .join-select {
    border: 3px solid #3498db;
    border-radius: 10px;
    padding: 5px 12px;
    font-family: 'Nunito', sans-serif;
    font-size: 16px;
    font-weight: 700;
    outline: none;
    background: white;
    cursor: pointer;
  }
  .join-select.correct-ans { border-color: #27ae60; background: #d4efdf; }
  .join-select.wrong-ans { border-color: #e74c3c; background: #fadbd8; }

  /* CONTRACTIONS */
  .contraction-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 12px;
    margin-bottom: 20px;
  }
  .contraction-card {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border-radius: 16px;
    padding: 18px 15px;
    text-align: center;
    cursor: pointer;
    transition: transform 0.2s;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }
  .contraction-card:hover { transform: scale(1.05); }
  .contraction-full { font-size: 15px; opacity: 0.85; margin-bottom: 5px; }
  .contraction-short { font-family: 'Fredoka One', cursive; font-size: 24px; }

  /* PROGRESS BAR */
  .progress-container {
    background: rgba(255,255,255,0.3);
    border-radius: 50px;
    height: 12px;
    margin: 10px 0 20px;
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #f39c12, #e74c3c);
    border-radius: 50px;
    transition: width 0.5s ease;
  }

  /* SCORE CELEBRATION */
  .score-celebration {
    text-align: center;
    padding: 30px;
    animation: slideUp 0.5s ease;
  }
  .score-big { font-family: 'Fredoka One', cursive; font-size: 80px; line-height: 1; }
  .score-label { font-size: 22px; font-weight: 700; color: #666; margin-top: 10px; }
  .trophy { font-size: 70px; animation: bounce 1s ease-in-out infinite; display: block; margin-bottom: 10px; }

  /* RESPONSIVE */
  @media (max-width: 600px) {
    .options-grid { grid-template-columns: 1fr; }
    .match-container { grid-template-columns: 1fr; }
    .section-panel { padding: 15px; }
    .card { padding: 20px; }
    .poem-line { font-size: 16px; }
  }

  /* CHRISTMAS THEME */
  .christmas-bg { background: linear-gradient(135deg, #1a472a 0%, #c0392b 100%); }
  .christmas-header { background: rgba(255,255,255,0.1); }

  /* SEASONS THEME */
  .seasons-bg { background: linear-gradient(135deg, #56ab2f 0%, #a8e063 30%, #f7971e 60%, #3498db 100%); }

  /* WORD SEARCH */
  .wordsearch-grid {
    display: inline-grid;
    gap: 3px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .ws-row { display: flex; gap: 3px; }
  .ws-cell {
    width: 36px; height: 36px;
    background: white;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    font-size: 16px;
    cursor: pointer;
    border: 2px solid #e0e0e0;
    transition: all 0.1s;
    user-select: none;
    color: #2c3e50;
  }
  .ws-cell:hover { background: #e8f4fd; }
  .ws-cell.selected { background: #ffd700; border-color: #f39c12; }
  .ws-cell.found { background: #d4efdf; border-color: #27ae60; color: #1a5c35; }

  .word-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 15px;
  }
  .word-list-item {
    padding: 6px 16px;
    border-radius: 50px;
    font-weight: 700;
    font-size: 15px;
    border: 2px solid #764ba2;
    color: #764ba2;
  }
  .word-list-item.found-word {
    background: #d5f5e3;
    border-color: #27ae60;
    color: #27ae60;
    text-decoration: line-through;
  }

  /* RHYME FINDER */
  .rhyme-set {
    background: white;
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 15px;
    border: 3px solid #e8d5ff;
  }
  .rhyme-word {
    font-family: 'Fredoka One', cursive;
    font-size: 26px;
    color: #764ba2;
    margin-bottom: 12px;
  }
  .rhyme-options { display: flex; gap: 10px; flex-wrap: wrap; }
  .rhyme-opt {
    padding: 10px 22px;
    border-radius: 50px;
    font-weight: 700;
    font-size: 16px;
    cursor: pointer;
    border: 3px solid #e0e0e0;
    background: white;
    transition: all 0.2s;
  }
  .rhyme-opt:hover { border-color: #764ba2; background: #f0e6ff; }
  .rhyme-opt.correct { background: #d4efdf; border-color: #27ae60; color: #27ae60; }
  .rhyme-opt.wrong { background: #fadbd8; border-color: #e74c3c; color: #e74c3c; }

  /* ACROSTIC POEM */
  .acrostic-line {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
  }
  .acrostic-letter {
    font-family: 'Fredoka One', cursive;
    font-size: 32px;
    color: #e74c3c;
    width: 40px;
    text-align: center;
    flex-shrink: 0;
  }
  .acrostic-input {
    flex: 1;
    border: none;
    border-bottom: 3px dashed #e74c3c;
    padding: 8px 5px;
    font-family: 'Nunito', sans-serif;
    font-size: 17px;
    font-weight: 700;
    outline: none;
    background: transparent;
    color: #2c3e50;
  }

  /* FUN TABS */
  .fun-tabs {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-bottom: 20px;
  }
  .fun-tab {
    padding: 10px 20px;
    border-radius: 50px;
    font-weight: 700;
    font-size: 15px;
    cursor: pointer;
    border: 3px solid rgba(255,255,255,0.4);
    color: rgba(255,255,255,0.8);
    background: rgba(255,255,255,0.15);
    transition: all 0.2s;
  }
  .fun-tab.active, .fun-tab:hover {
    background: white;
    color: #764ba2;
    border-color: white;
  }

  /* SEASON FACTS CARDS */
  .seasons-cards {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
  }
  @media (max-width: 600px) { .seasons-cards { grid-template-columns: 1fr; } }
  .season-fact-card {
    border-radius: 20px;
    padding: 20px;
    color: white;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.3s;
  }
  .season-fact-card:hover { transform: scale(1.03); }
  .spring-card { background: linear-gradient(135deg, #56ab2f, #a8e063); }
  .summer-card { background: linear-gradient(135deg, #f7971e, #ffd200); }
  .autumn-card { background: linear-gradient(135deg, #d35400, #e67e22); }
  .winter-card { background: linear-gradient(135deg, #2980b9, #6dd5fa); }
  .season-fact-card .s-emoji { font-size: 50px; margin-bottom: 10px; display: block; }
  .season-fact-card .s-name { font-family: 'Fredoka One', cursive; font-size: 26px; margin-bottom: 8px; }
  .season-fact-card .s-desc { font-size: 14px; line-height: 1.6; opacity: 0.95; }

  /* ANIMATION HELPERS */
  .pop { animation: popIn 0.3s ease; }
  .wobble { animation: wobble 0.5s ease; }
  @keyframes wobble {
    0%,100% { transform: rotate(0); }
    25% { transform: rotate(-5deg); }
    75% { transform: rotate(5deg); }
  }

  /* STAR REWARD */
  .stars-row {
    display: flex;
    gap: 5px;
    margin: 10px 0;
    font-size: 24px;
  }
  .earned-star { color: #FFD700; }
  .empty-star { color: #ccc; }

  .hint-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    border-radius: 12px;
    padding: 12px 18px;
    font-size: 15px;
    color: #856404;
    margin-top: 10px;
    display: none;
  }
  .hint-btn {
    background: #ffc107;
    border: none;
    border-radius: 50px;
    padding: 8px 18px;
    font-family: 'Nunito', sans-serif;
    font-weight: 700;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s;
    margin-top: 10px;
  }
  .hint-btn:hover { background: #e0a800; }
</style>
</head>
<body>

<div class="bg-stars" id="bgStars"></div>

<!-- HOME SCREEN -->
<div id="home">
  <div class="home-title">‚ú® English Fairy ‚ú®</div>
  <div class="home-subtitle">üåü Learn, Play & Explore! üåü</div>
  <div class="chapter-cards">
    <div class="chapter-card christmas" onclick="openChapter('christmas')">
      <span class="card-emoji">üéÑ</span>
      <div class="card-title">Christmas!</div>
      <div class="card-desc">Read the Christmas poem, learn vocabulary, and have fun with activities!</div>
    </div>
    <div class="chapter-card seasons" onclick="openChapter('seasons')">
      <span class="card-emoji">üåà</span>
      <div class="card-title">The Four Seasons</div>
      <div class="card-desc">Explore Spring, Summer, Autumn and Winter in an exciting adventure!</div>
    </div>
  </div>
</div>

<!-- ===================== CHRISTMAS CHAPTER ===================== -->
<div id="christmas-chapter" class="chapter-screen christmas-bg">
  <div class="chapter-header christmas-header">
    <button class="back-btn" onclick="goHome()">üè†</button>
    <div class="chapter-nav">
      <button class="nav-btn active" onclick="showSection('chr','poem',event)">üìñ Poem</button>
      <button class="nav-btn" onclick="showSection('chr','vocab',event)">üî§ Vocab</button>
      <button class="nav-btn" onclick="showSection('chr','quiz',event)">‚ùì Quiz</button>
      <button class="nav-btn" onclick="showSection('chr','tf',event)">‚úÖ True/False</button>
      <button class="nav-btn" onclick="showSection('chr','rhyme',event)">üéµ Rhymes</button>
      <button class="nav-btn" onclick="showSection('chr','acrostic',event)">‚úçÔ∏è Poem</button>
    </div>
  </div>

  <!-- POEM SECTION -->
  <div id="chr-poem" class="section-panel active">
    <div class="card">
      <div class="section-title">üìñ The Christmas Poem</div>
      <p style="color:#666; margin-bottom:20px; font-size:15px;">üëÜ Click on any line to hear what it means!</p>
      <div class="poem-container">
        <div class="poem-line" onclick="explainLine(0)"><span class="highlight christmas-word">C</span> is for Christmas I wait for <span class="christmas-word">all year</span>.</div>
        <div class="poem-line" onclick="explainLine(1)"><span class="highlight christmas-word">H</span> is for <span class="christmas-word">holly</span> that brings so much <span class="green-word">cheer</span>.</div>
        <div class="poem-line" onclick="explainLine(2)"><span class="highlight christmas-word">R</span> is for <span class="blue-word">reindeer</span> that pulls <span class="christmas-word">Santa's sleigh</span>.</div>
        <div class="poem-line" onclick="explainLine(3)"><span class="highlight christmas-word">I</span> is for <span class="blue-word">icicles</span> dripping <span class="green-word">all day</span>.</div>
        <div class="poem-line" onclick="explainLine(4)"><span class="highlight christmas-word">S</span> is for <span class="christmas-word">Santa</span> who seldom is <span class="green-word">seen</span>.</div>
        <div class="poem-line" onclick="explainLine(5)"><span class="highlight christmas-word">T</span> is for <span class="christmas-word">tree</span> that is lovely and <span class="green-word">green</span>.</div>
        <div class="poem-line" onclick="explainLine(6)"><span class="highlight christmas-word">M</span> is for <span class="blue-word">mistletoe</span>, hugs, and a kiss.</div>
        <div class="poem-line" onclick="explainLine(7)"><span class="highlight christmas-word">A</span> is for <span class="christmas-word">angel</span> who looks just like this.</div>
        <div class="poem-line" onclick="explainLine(8)"><span class="highlight christmas-word">S</span> is for <span class="christmas-word">stockings</span> all loaded with toys</div>
        <div class="poem-line" onclick="explainLine(9)">From all of the <span class="blue-word">elves</span> to the girls and the boys.</div>
        <div class="poem-attribution">‚ÄîAnonymous</div>
      </div>
      <div id="poem-explanation" style="margin-top:20px; display:none;">
        <div id="poem-exp-text" style="font-size:18px; font-weight:600; color:#2c3e50; line-height:1.7; background:#fff9f0; border-radius:16px; padding:20px; border:2px solid #ffd6e7;"></div>
      </div>
    </div>

    <!-- What is an Acrostic Poem? -->
    <div class="card">
      <div class="section-title">üí° What is an Acrostic Poem?</div>
      <p style="font-size:17px; line-height:1.8; color:#444;">
        In an <strong>acrostic poem</strong>, each line starts with a letter that spells out a word!<br>
        Look at the poem above ‚Äî the first letter of each line spells <strong style="color:#e74c3c; font-size:20px;">CHRISTMAS</strong>! üéÑ
      </p>
    </div>
  </div>

  <!-- VOCAB SECTION -->
  <div id="chr-vocab" class="section-panel">
    <div class="card">
      <div class="section-title">üî§ Christmas Words</div>
      <div class="vocab-grid">
        <div class="vocab-card" style="--color1:#e74c3c; --color2:#c0392b;" onclick="speakWord('Holly')">
          <span class="v-emoji">üåø</span>
          <div class="v-word">Holly</div>
          <div class="v-meaning">A plant with red berries used to decorate at Christmas</div>
        </div>
        <div class="vocab-card" style="--color1:#3498db; --color2:#2980b9;" onclick="speakWord('Reindeer')">
          <span class="v-emoji">ü¶å</span>
          <div class="v-word">Reindeer</div>
          <div class="v-meaning">The animal that pulls Santa's sleigh in the sky</div>
        </div>
        <div class="vocab-card" style="--color1:#27ae60; --color2:#1a9641;" onclick="speakWord('Icicles')">
          <span class="v-emoji">‚ùÑÔ∏è</span>
          <div class="v-word">Icicles</div>
          <div class="v-meaning">Thin sticks of ice that hang from roofs in winter</div>
        </div>
        <div class="vocab-card" style="--color1:#8e44ad; --color2:#7d3c98;" onclick="speakWord('Mistletoe')">
          <span class="v-emoji">üå±</span>
          <div class="v-word">Mistletoe</div>
          <div class="v-meaning">A plant ‚Äî people give hugs and kisses under it!</div>
        </div>
        <div class="vocab-card" style="--color1:#f39c12; --color2:#e67e22;" onclick="speakWord('Sleigh')">
          <span class="v-emoji">üõ∑</span>
          <div class="v-word">Sleigh</div>
          <div class="v-meaning">A vehicle that slides on snow, pulled by reindeer</div>
        </div>
        <div class="vocab-card" style="--color1:#16a085; --color2:#1abc9c;" onclick="speakWord('Stockings')">
          <span class="v-emoji">üß¶</span>
          <div class="v-word">Stockings</div>
          <div class="v-meaning">Big socks hung up to be filled with gifts and toys</div>
        </div>
        <div class="vocab-card" style="--color1:#c0392b; --color2:#e74c3c;" onclick="speakWord('Elves')">
          <span class="v-emoji">üßù</span>
          <div class="v-word">Elves</div>
          <div class="v-meaning">Tiny magical helpers who make toys for Santa</div>
        </div>
        <div class="vocab-card" style="--color1:#2c3e50; --color2:#34495e;" onclick="speakWord('Angel')">
          <span class="v-emoji">üëº</span>
          <div class="v-word">Angel</div>
          <div class="v-meaning">A beautiful heavenly being placed on top of the tree</div>
        </div>
      </div>
      <p style="color:#999; font-size:14px; margin-top:15px; text-align:center;">üëÜ Tap any card to say the word!</p>
    </div>
  </div>

  <!-- QUIZ SECTION -->
  <div id="chr-quiz" class="section-panel">
    <div class="card">
      <div class="section-title">‚ùì Christmas Quiz!</div>
      <div class="progress-container">
        <div class="progress-bar" id="chr-quiz-progress" style="width:0%"></div>
      </div>
      <div id="chr-quiz-content"></div>
    </div>
  </div>

  <!-- TRUE / FALSE -->
  <div id="chr-tf" class="section-panel">
    <div class="card">
      <div class="section-title">‚úÖ True or False?</div>
      <p style="color:#666; margin-bottom:20px;">Read each sentence and tap TRUE or FALSE!</p>
      <div id="chr-tf-content"></div>
      <button class="check-btn" onclick="checkTF('chr')">Check Answers! üéØ</button>
      <div id="chr-tf-score" style="margin-top:15px; font-size:18px; font-weight:700; display:none;"></div>
    </div>
  </div>

  <!-- RHYME SECTION -->
  <div id="chr-rhyme" class="section-panel">
    <div class="card">
      <div class="section-title">üéµ Find the Rhyming Words!</div>
      <p style="color:#666; margin-bottom:20px;">Which word rhymes with the given word? Pick the correct one!</p>
      <div id="chr-rhyme-content"></div>
    </div>
  </div>

  <!-- ACROSTIC POEM -->
  <div id="chr-acrostic" class="section-panel">
    <div class="card">
      <div class="section-title">‚úçÔ∏è Write Your Own Acrostic Poem!</div>
      <p style="color:#666; margin-bottom:5px;">Write a poem about your favourite festival! Each line starts with the letter shown.</p>
      <p style="color:#764ba2; font-weight:700; margin-bottom:20px;">üí° Idea: Write an acrostic poem using <strong>DIWALI</strong> or <strong>HOLI</strong>!</p>
      <div style="margin-bottom:25px;">
        <div class="acrostic-line">
          <div class="acrostic-letter">C</div>
          <input class="acrostic-input" placeholder="Write something starting with C...">
        </div>
        <div class="acrostic-line">
          <div class="acrostic-letter">H</div>
          <input class="acrostic-input" placeholder="Write something starting with H...">
        </div>
        <div class="acrostic-line">
          <div class="acrostic-letter">R</div>
          <input class="acrostic-input" placeholder="Write something starting with R...">
        </div>
        <div class="acrostic-line">
          <div class="acrostic-letter">I</div>
          <input class="acrostic-input" placeholder="Write something starting with I...">
        </div>
        <div class="acrostic-line">
          <div class="acrostic-letter">S</div>
          <input class="acrostic-input" placeholder="Write something starting with S...">
        </div>
        <div class="acrostic-line">
          <div class="acrostic-letter">T</div>
          <input class="acrostic-input" placeholder="Write something starting with T...">
        </div>
        <div class="acrostic-line">
          <div class="acrostic-letter">M</div>
          <input class="acrostic-input" placeholder="Write something starting with M...">
        </div>
        <div class="acrostic-line">
          <div class="acrostic-letter">A</div>
          <input class="acrostic-input" placeholder="Write something starting with A...">
        </div>
        <div class="acrostic-line">
          <div class="acrostic-letter">S</div>
          <input class="acrostic-input" placeholder="Write something starting with S...">
        </div>
      </div>
      <button class="check-btn" onclick="celebratePoem()">üéâ Share My Poem!</button>
      <div id="poem-celebrate" style="display:none; margin-top:20px; text-align:center; font-size:22px; font-weight:800; color:#e74c3c;">
        üåü Wonderful poem! You're a poet! üåü
      </div>
    </div>
  </div>
</div>

<!-- ===================== SEASONS CHAPTER ===================== -->
<div id="seasons-chapter" class="chapter-screen seasons-bg">
  <div class="chapter-header">
    <button class="back-btn" onclick="goHome()">üè†</button>
    <div class="chapter-nav">
      <button class="nav-btn active" onclick="showSection('sea','story',event)">üìñ Story</button>
      <button class="nav-btn" onclick="showSection('sea','seasons',event)">üå∏ Seasons</button>
      <button class="nav-btn" onclick="showSection('sea','quiz',event)">‚ùì Quiz</button>
      <button class="nav-btn" onclick="showSection('sea','tf',event)">‚úÖ True/False</button>
      <button class="nav-btn" onclick="showSection('sea','grammar',event)">üìù Adjectives</button>
      <button class="nav-btn" onclick="showSection('sea','joining',event)">üîó And/But</button>
      <button class="nav-btn" onclick="showSection('sea','contractions',event)">‚úÇÔ∏è Short Forms</button>
    </div>
  </div>

  <!-- STORY SECTION -->
  <div id="sea-story" class="section-panel active">
    <div class="card">
      <div class="section-title">üìñ The Four Seasons Story</div>
      <div class="story-page">
        <div class="story-text">Once, the four seasons had a <strong style="color:#e74c3c;">quarrel</strong> (fight).</div>
      </div>
      <div class="story-page" style="background: linear-gradient(135deg, #fffde7, #fff9c4);">
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px;">
          <div style="background:#f39c12; color:white; padding:8px 18px; border-radius:20px; font-weight:700;">‚òÄÔ∏è Summer</div>
          <div style="font-size:17px; padding:8px 0; font-weight:600;">"I am better than you all!"</div>
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px;">
          <div style="background:#3498db; color:white; padding:8px 18px; border-radius:20px; font-weight:700;">‚ùÑÔ∏è Winter</div>
          <div style="font-size:17px; padding:8px 0; font-weight:600;">"No, I am the best."</div>
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <div style="background:#7f8c8d; color:white; padding:8px 18px; border-radius:20px; font-weight:700;">üçÇ Autumn</div>
          <div style="font-size:17px; padding:8px 0; font-weight:600;">"I am the best!"</div>
        </div>
      </div>
      <div class="story-page">
        <span class="season-tag spring-tag">üå∏ Spring says:</span>
        <div class="story-text">"I bring lovely flowers to full bloom. Birds chirp merrily. Butterflies dance above the flowers. There is joy everywhere."</div>
      </div>
      <div class="story-page" style="background: linear-gradient(135deg, #fff3cd, #ffe0b2);">
        <span class="season-tag summer-tag">‚òÄÔ∏è Summer says:</span>
        <div class="story-text">"And Summer, it is because of your sunshine that grains grow in the fields and fruits on the trees."</div>
      </div>
      <div class="story-page" style="background: linear-gradient(135deg, #fbe9e7, #ffccbc);">
        <span class="season-tag autumn-tag">üçÇ Autumn says:</span>
        <div class="story-text">"Don't fight, Winter. It is because of you that grains such as rice and wheat are united."</div>
      </div>
      <div class="story-page" style="background: linear-gradient(135deg, #e3f2fd, #bbdefb);">
        <span class="season-tag winter-tag">‚ùÑÔ∏è Winter says:</span>
        <div class="story-text">"When I am there, people feel very cold. They wear gloves and sweaters to keep themselves warm. But, they enjoy hot chocolate and bowls of soup. It is time to relax and rest."</div>
      </div>
      <div class="story-page" style="background: linear-gradient(135deg, #f3e5f5, #e1bee7);">
        <div class="story-text" style="font-weight:800; font-size:19px;">üåà Finally, Spring and Autumn decided to end the quarrel.</div>
        <div class="story-text" style="margin-top:10px;">"That is true, Autumn. All the seasons are important. We must be <strong>united</strong>."</div>
        <div class="story-text" style="margin-top:10px;">So, Spring, Summer, Autumn and Winter became friends once more. They promised to never fight again.</div>
      </div>
    </div>
  </div>

  <!-- SEASONS INFO -->
  <div id="sea-seasons" class="section-panel">
    <div class="card">
      <div class="section-title">üåç All About the Seasons</div>
      <div class="seasons-cards">
        <div class="season-fact-card spring-card">
          <span class="s-emoji">üå∏</span>
          <div class="s-name">Spring</div>
          <div class="s-desc">Flowers bloom üåº Birds chirp üê¶ Butterflies dance ü¶ã Joy everywhere!</div>
        </div>
        <div class="season-fact-card summer-card">
          <span class="s-emoji">‚òÄÔ∏è</span>
          <div class="s-name">Summer</div>
          <div class="s-desc">Sunshine ‚òÄÔ∏è Grains grow in fields üåæ Fruits on trees üçé Children swim üèä</div>
        </div>
        <div class="season-fact-card autumn-card">
          <span class="s-emoji">üçÇ</span>
          <div class="s-name">Autumn</div>
          <div class="s-desc">Leaves turn red & orange üçÅ Cool breeze üå¨Ô∏è Rice & wheat harvested üåæ</div>
        </div>
        <div class="season-fact-card winter-card">
          <span class="s-emoji">‚ùÑÔ∏è</span>
          <div class="s-name">Winter</div>
          <div class="s-desc">Very cold ‚ùÑÔ∏è Wear gloves & sweaters üß§ Hot chocolate ‚òï Time to rest üò¥</div>
        </div>
      </div>
    </div>

    <!-- Warm-up activity -->
    <div class="card">
      <div class="section-title">üéØ Match the Season!</div>
      <p style="color:#666; margin-bottom:20px;">Which season does each remind you of? Drag or tap to match!</p>
      <div id="season-match-content"></div>
    </div>
  </div>

  <!-- SEASONS QUIZ -->
  <div id="sea-quiz" class="section-panel">
    <div class="card">
      <div class="section-title">‚ùì Seasons Quiz!</div>
      <div class="progress-container">
        <div class="progress-bar" id="sea-quiz-progress" style="width:0%"></div>
      </div>
      <div id="sea-quiz-content"></div>
    </div>
  </div>

  <!-- SEASONS T/F -->
  <div id="sea-tf" class="section-panel">
    <div class="card">
      <div class="section-title">‚úÖ True or False?</div>
      <p style="color:#666; margin-bottom:20px;">Read each sentence and tap TRUE or FALSE!</p>
      <div id="sea-tf-content"></div>
      <button class="check-btn" onclick="checkTF('sea')">Check Answers! üéØ</button>
      <div id="sea-tf-score" style="margin-top:15px; font-size:18px; font-weight:700; display:none;"></div>
    </div>
  </div>

  <!-- ADJECTIVES -->
  <div id="sea-grammar" class="section-panel">
    <div class="card">
      <div class="section-title">üìù Adjectives!</div>
      <div style="background:#e8f4fd; border-radius:16px; padding:18px; margin-bottom:20px;">
        <p style="font-size:16px; font-weight:700; color:#1a5276; margin-bottom:10px;">üåü Remember:</p>
        <p style="font-size:15px; line-height:1.8; color:#2c3e50;">
          <strong>Adjectives</strong> are describing words! They tell us about:<br>
          üé® <strong>Colour</strong> ‚Äî white clouds, red apple<br>
          üìê <strong>Shape</strong> ‚Äî round ball, square box<br>
          üìè <strong>Size</strong> ‚Äî small birds, big elephant<br>
          ‚ú® <strong>Quality</strong> ‚Äî cool breeze, hot soup<br>
          üî¢ <strong>Number</strong> ‚Äî ten pencils, twelve eggs
        </p>
      </div>
      <div id="adj-exercise"></div>
      <button class="check-btn" onclick="checkAdj()">Check! üéØ</button>
    </div>
  </div>

  <!-- JOINING WORDS -->
  <div id="sea-joining" class="section-panel">
    <div class="card">
      <div class="section-title">üîó Joining Words: AND & BUT</div>
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px; margin-bottom:20px;">
        <div style="background:#e8f4fd; border-radius:16px; padding:18px; border-left:5px solid #3498db;">
          <div style="font-family:'Fredoka One',cursive; font-size:22px; color:#3498db; margin-bottom:8px;">AND</div>
          <div style="font-size:14px; color:#444; line-height:1.7;">Used to join similar things<br>üìå I have a cat <strong>and</strong> a parrot.<br>üìå I saw a butterfly <strong>and</strong> a bee.</div>
        </div>
        <div style="background:#fef9e7; border-radius:16px; padding:18px; border-left:5px solid #f39c12;">
          <div style="font-family:'Fredoka One',cursive; font-size:22px; color:#e67e22; margin-bottom:8px;">BUT</div>
          <div style="font-size:14px; color:#444; line-height:1.7;">Used for opposite/different<br>üìå I like ice cream <strong>but</strong> not milk.<br>üìå Minu is tall <strong>but</strong> her sister is short.</div>
        </div>
      </div>
      <div id="joining-exercise"></div>
      <button class="check-btn" onclick="checkJoining()">Check! üéØ</button>
    </div>
  </div>

  <!-- CONTRACTIONS -->
  <div id="sea-contractions" class="section-panel">
    <div class="card">
      <div class="section-title">‚úÇÔ∏è Short Forms with Apostrophe!</div>
      <div style="background:#f3e5f5; border-radius:16px; padding:15px; margin-bottom:20px;">
        <p style="font-size:16px; color:#7d3c98; font-weight:700;">üí° When we shorten words, we use ' (apostrophe) to show missing letters!</p>
        <p style="font-size:15px; color:#444; margin-top:8px;">you are ‚Üí <strong>you're</strong> &nbsp;|&nbsp; I am ‚Üí <strong>I'm</strong> &nbsp;|&nbsp; it is ‚Üí <strong>it's</strong></p>
      </div>
      <div class="contraction-grid">
        <div class="contraction-card"><div class="contraction-full">I am</div><div class="contraction-short">I'm</div></div>
        <div class="contraction-card"><div class="contraction-full">it is</div><div class="contraction-short">it's</div></div>
        <div class="contraction-card"><div class="contraction-full">you are</div><div class="contraction-short">you're</div></div>
        <div class="contraction-card"><div class="contraction-full">you have</div><div class="contraction-short">you've</div></div>
        <div class="contraction-card"><div class="contraction-full">she will</div><div class="contraction-short">she'll</div></div>
        <div class="contraction-card"><div class="contraction-full">will not</div><div class="contraction-short">won't</div></div>
        <div class="contraction-card"><div class="contraction-full">cannot</div><div class="contraction-short">can't</div></div>
        <div class="contraction-card"><div class="contraction-full">do not</div><div class="contraction-short">don't</div></div>
        <div class="contraction-card"><div class="contraction-full">does not</div><div class="contraction-short">doesn't</div></div>
        <div class="contraction-card"><div class="contraction-full">are not</div><div class="contraction-short">aren't</div></div>
        <div class="contraction-card"><div class="contraction-full">he is</div><div class="contraction-short">he's</div></div>
        <div class="contraction-card"><div class="contraction-full">we are</div><div class="contraction-short">we're</div></div>
      </div>
      <div style="margin-top:25px;">
        <div class="section-title" style="font-size:20px;">üéÆ Circle the Correct Short Form!</div>
        <div id="contraction-exercise"></div>
        <button class="check-btn" onclick="checkContractions()">Check! üéØ</button>
      </div>
    </div>
  </div>
</div>

<script>
// ====== BACKGROUND STARS ======
const bgStars = document.getElementById('bgStars');
const emojis = ['‚≠ê','üåü','‚ú®','üí´','üåô','‚òÅÔ∏è'];
for(let i=0;i<20;i++){
  const s=document.createElement('div');
  s.className='star-bg';
  s.textContent=emojis[Math.floor(Math.random()*emojis.length)];
  s.style.left=Math.random()*100+'%';
  s.style.top=Math.random()*100+'%';
  s.style.animationDelay=Math.random()*6+'s';
  s.style.animationDuration=(4+Math.random()*4)+'s';
  s.style.fontSize=(15+Math.random()*20)+'px';
  bgStars.appendChild(s);
}

// ====== NAVIGATION ======
function openChapter(chapter) {
  document.getElementById('home').style.display = 'none';
  document.querySelectorAll('.chapter-screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(chapter+'-chapter').classList.add('active');
  if(chapter==='christmas') initChristmas();
  else initSeasons();
}
function goHome() {
  document.getElementById('home').style.display = 'flex';
  document.querySelectorAll('.chapter-screen').forEach(s=>s.classList.remove('active'));
  christmasInited = false;
  seasonsInited = false;
}
function showSection(prefix, section, evt) {
  const chapterId = (prefix === 'chr' ? 'christmas' : 'seasons') + '-chapter';
  document.querySelectorAll(`#${chapterId} .section-panel`).forEach(p=>p.classList.remove('active'));
  document.querySelectorAll(`#${chapterId} .nav-btn`).forEach(b=>b.classList.remove('active'));
  document.getElementById(`${prefix}-${section}`).classList.add('active');
  const btn = (evt && evt.target) ? evt.target.closest('.nav-btn') : null;
  if(btn) btn.classList.add('active');
}

// ====== POEM LINE EXPLANATIONS ======
const lineExplanations = [
  "üéÑ C is for Christmas ‚Äî The poet waits the whole year for Christmas to come. It is their most favourite time!",
  "üåø H is for Holly ‚Äî Holly is a plant with shiny green leaves and red berries. It makes people happy and cheerful at Christmas!",
  "ü¶å R is for Reindeer ‚Äî Reindeer are special deer that fly through the sky pulling Santa's sleigh!",
  "‚ùÑÔ∏è I is for Icicles ‚Äî Icicles are pointy sticks of ice that hang from rooftops. They drip as they slowly melt!",
  "üéÖ S is for Santa ‚Äî Santa Claus is rarely seen (seldom = not often). He comes secretly at night!",
  "üå≤ T is for Tree ‚Äî The Christmas tree is beautiful and bright green. We decorate it with lights and balls!",
  "üå± M is for Mistletoe ‚Äî People share hugs and kisses under the mistletoe. It's a Christmas tradition!",
  "üëº A is for Angel ‚Äî A beautiful angel sits right on top of the Christmas tree!",
  "üß¶ S is for Stockings ‚Äî Big socks are hung by the fireplace. Santa fills them with lovely toys!",
  "üßù The last line ‚Äî Elves are Santa's tiny magical helpers. They make toys for all the girls and boys in the world!"
];
function explainLine(i) {
  const box = document.getElementById('poem-explanation');
  document.getElementById('poem-exp-text').textContent = lineExplanations[i];
  box.style.display='block';
  box.classList.add('pop');
  setTimeout(()=>box.classList.remove('pop'),300);
  box.scrollIntoView({behavior:'smooth', block:'nearest'});
}

// ====== SPEAK WORD ======
function speakWord(word) {
  if('speechSynthesis' in window) {
    const u = new SpeechSynthesisUtterance(word);
    u.lang='en-US'; u.rate=0.8;
    speechSynthesis.speak(u);
  }
}

// ====== CHRISTMAS QUIZ ======
const christmasQuestions = [
  { q:"What does the poet wait for all year?", opts:["Diwali","Christmas","Summer","School"], ans:1 },
  { q:"Which plant brings so much cheer?", opts:["Mistletoe","Icicles","Holly","Angel"], ans:2 },
  { q:"What pulls Santa's sleigh?", opts:["Horses","Elves","Dogs","Reindeer"], ans:3 },
  { q:"What drips all day in the poem?", opts:["Rain","Holly","Icicles","Stockings"], ans:2 },
  { q:"Santa is seldom seen. What does 'seldom' mean?", opts:["Always","Often","Rarely","Never"], ans:2 },
  { q:"What colour is the Christmas tree?", opts:["Red","Blue","White","Green"], ans:3 },
  { q:"Under which plant do people hug and kiss?", opts:["Holly","Reindeer","Mistletoe","Tree"], ans:2 },
  { q:"What is loaded with toys?", opts:["Sleigh","Stockings","Bags","Boxes"], ans:1 },
  { q:"Who makes toys for children?", opts:["Angels","Reindeer","Santa","Elves"], ans:3 },
  { q:"What kind of poem is CHRISTMAS?", opts:["Rhyming","Haiku","Acrostic","Story"], ans:2 },
  { q:"Where does the angel sit?", opts:["On the fireplace","On top of the tree","In the sleigh","On stockings"], ans:1 },
  { q:"Who wrote this Christmas poem?", opts:["Anonymous","Santa","An elf","The teacher"], ans:0 }
];

let chrQuizIdx=0, chrQuizScore=0, chrAnswered=false;

let christmasInited = false;
function initChristmas() {
  if(christmasInited) return;
  christmasInited = true;
  initChrQuiz();
  initChrTF();
  initChrRhyme();
}

function initChrQuiz() {
  chrQuizIdx=0; chrQuizScore=0; chrAnswered=false;
  renderChrQuestion();
}

function renderChrQuestion() {
  const container = document.getElementById('chr-quiz-content');
  if(chrQuizIdx >= christmasQuestions.length) {
    renderQuizResult(container, chrQuizScore, christmasQuestions.length, 'chr');
    return;
  }
  const q = christmasQuestions[chrQuizIdx];
  const pct = (chrQuizIdx/christmasQuestions.length*100).toFixed(0);
  document.getElementById('chr-quiz-progress').style.width=pct+'%';
  chrAnswered=false;
  container.innerHTML=`
    <div class="question-box">
      <div class="question-num">Question ${chrQuizIdx+1} of ${christmasQuestions.length}</div>
      <div class="question-text">üéÑ ${q.q}</div>
      <div class="options-grid">
        ${q.opts.map((o,i)=>`<button class="option-btn" onclick="answerChr(${i})">${['üÖê','üÖë','üÖí','üÖì'][i]} ${o}</button>`).join('')}
      </div>
      <div id="chr-feedback" class="feedback-msg"></div>
    </div>
    <div class="quiz-controls">
      <div class="score-display">‚≠ê Score: ${chrQuizScore}/${chrQuizIdx}</div>
      <button class="next-btn" onclick="nextChrQuestion()" style="display:none" id="chr-next-btn">Next ‚û°Ô∏è</button>
    </div>
  `;
}

function answerChr(idx) {
  if(chrAnswered) return;
  chrAnswered=true;
  const q=christmasQuestions[chrQuizIdx];
  const btns=document.querySelectorAll('#chr-quiz-content .option-btn');
  btns.forEach(b=>b.disabled=true);
  btns[idx].classList.add(idx===q.ans?'correct':'wrong');
  btns[q.ans].classList.add('correct');
  const fb=document.getElementById('chr-feedback');
  if(idx===q.ans){chrQuizScore++;fb.textContent='üéâ Correct! Wonderful!';fb.className='feedback-msg correct';}
  else{fb.textContent='‚ùå Oops! The correct answer is: '+q.opts[q.ans];fb.className='feedback-msg wrong';}
  document.getElementById('chr-next-btn').style.display='block';
}
function nextChrQuestion(){chrQuizIdx++;renderChrQuestion();}

function renderQuizResult(container, score, total, prefix) {
  document.getElementById(`${prefix}-quiz-progress`).style.width='100%';
  const pct=Math.round(score/total*100);
  const emoji = pct>=80?'üèÜ':pct>=60?'üåü':'üí™';
  const msg = pct>=80?'Amazing! You\'re a star!':pct>=60?'Great job! Keep learning!':'Good try! Read the story again!';
  container.innerHTML=`
    <div class="score-celebration">
      <span class="trophy">${emoji}</span>
      <div class="score-big">${score}/${total}</div>
      <div class="score-label">${msg}</div>
      <div class="stars-row" style="justify-content:center">
        ${Array(5).fill(0).map((_,i)=>`<span class="${i<Math.round(pct/20)?'earned-star':'empty-star'}">‚≠ê</span>`).join('')}
      </div>
      <button class="restart-btn" onclick="${prefix==='chr'?'initChrQuiz':'initSeaQuiz'}()" style="margin-top:20px;">Try Again! üîÑ</button>
    </div>`;
}

// ====== CHRISTMAS T/F ======
const chrTFData = [
  { text: "1. Santa pulls the sleigh.", answer: false, explain: "Reindeer pull the sleigh!" },
  { text: "2. Santa is seen on Sundays.", answer: false, explain: "Santa is seldom (rarely) seen!" },
  { text: "3. Holly brings much cheer.", answer: true, explain: "Yes! Holly brings so much cheer." },
  { text: "4. The tree is lovely and green.", answer: true, explain: "Yes! The tree is lovely and green." },
  { text: "5. Stockings are hung for flowers.", answer: false, explain: "Stockings are hung for toys, not flowers!" }
];

function initChrTF() {
  const container=document.getElementById('chr-tf-content');
  container.innerHTML = chrTFData.map((item,i)=>`
    <div class="tf-item" id="chr-tf-${i}">
      <div class="tf-text">${item.text}</div>
      <div class="tf-buttons">
        <button class="tf-btn t-btn" onclick="selectTF('chr',${i},'T')">TRUE</button>
        <button class="tf-btn f-btn" onclick="selectTF('chr',${i},'F')">FALSE</button>
      </div>
    </div>
  `).join('');
  document.getElementById('chr-tf-score').style.display='none';
}

function selectTF(prefix, idx, val) {
  const item=document.getElementById(`${prefix}-tf-${idx}`);
  item.querySelectorAll('.tf-btn').forEach(b=>b.classList.remove('selected-t','selected-f'));
  item.dataset.answer=val;
  if(val==='T') item.querySelector('.t-btn').classList.add('selected-t');
  else item.querySelector('.f-btn').classList.add('selected-f');
}

function checkTF(prefix) {
  const data = prefix==='chr'?chrTFData:seaTFData;
  let score=0;
  data.forEach((item,i)=>{
    const el=document.getElementById(`${prefix}-tf-${i}`);
    const given=el.dataset.answer;
    const correct=item.answer?'T':'F';
    el.classList.remove('revealed-true','revealed-false');
    // Remove old explanations before adding new ones
    el.querySelectorAll('.explain-text').forEach(e=>e.remove());
    if(given===correct){score++;el.classList.add('revealed-true');}
    else el.classList.add('revealed-false');
    const explain=document.createElement('div');
    explain.className='explain-text';
    explain.style.cssText='font-size:13px;color:#666;margin-top:8px;font-style:italic;width:100%;';
    explain.textContent=item.explain;
    el.appendChild(explain);
  });
  const scoreEl=document.getElementById(`${prefix}-tf-score`);
  const pct=Math.round(score/data.length*100);
  scoreEl.innerHTML=`${pct>=80?'üéâ':'üí™'} You got ${score} out of ${data.length} correct! ${pct>=80?'Excellent!':'Keep practising!'}`;
  scoreEl.style.display='block';
  scoreEl.style.color=pct>=80?'#27ae60':'#e74c3c';
}

// ====== CHRISTMAS RHYMES ======
const chrRhymeData = [
  { word:"year", options:["door","cheer","book","tree"], ans:"cheer" },
  { word:"day", options:["seen","ball","play","door"], ans:"play" },
  { word:"seen", options:["green","day","cheer","toys"], ans:"green" }
];
function initChrRhyme() {
  const container=document.getElementById('chr-rhyme-content');
  container.innerHTML=chrRhymeData.map((r,ri)=>`
    <div class="rhyme-set">
      <div class="rhyme-word">üéµ "${r.word}" rhymes with...</div>
      <div class="rhyme-options">
        ${r.options.map(o=>`<button class="rhyme-opt" onclick="checkRhyme(this,'${o}','${r.ans}')">${o}</button>`).join('')}
      </div>
    </div>
  `).join('');
}
function checkRhyme(btn, choice, ans) {
  btn.closest('.rhyme-options').querySelectorAll('.rhyme-opt').forEach(b=>{b.disabled=true;});
  btn.classList.add(choice===ans?'correct':'wrong');
  if(choice!==ans) btn.closest('.rhyme-options').querySelectorAll('.rhyme-opt').forEach(b=>{if(b.textContent===ans)b.classList.add('correct');});
}

// Celebrate Acrostic
function celebratePoem() {
  document.getElementById('poem-celebrate').style.display='block';
}

// ====== SEASONS INIT ======
const seasonsQuestions = [
  { q:"Why did the four seasons quarrel?", opts:["Each thought it was the best","They were bored","They wanted to rest","They disliked rain"], ans:0 },
  { q:"Which season brings flowers to full bloom?", opts:["Summer","Winter","Autumn","Spring"], ans:3 },
  { q:"What does Summer help to grow?", opts:["Flowers and ice","Grains and fruits","Snow and rivers","Leaves and rivers"], ans:1 },
  { q:"What does Winter help fill up?", opts:["Fields","Markets","Rivers and lakes","Clouds"], ans:2 },
  { q:"What do people wear in Winter to stay warm?", opts:["Raincoats and boots","Gloves and sweaters","T-shirts and shorts","Hats and sunglasses"], ans:1 },
  { q:"What do people enjoy drinking in Winter?", opts:["Cold water","Milkshake","Hot chocolate and soup","Lemonade"], ans:2 },
  { q:"Who decided to end the quarrel?", opts:["Summer and Winter","Spring and Autumn","Reindeer and elves","All four together"], ans:1 },
  { q:"What do the seasons promise at the end?", opts:["To never speak again","To never fight again","To leave the world","To become one season"], ans:1 },
  { q:"What word means 'fight' in the story?", opts:["United","Quarrel","Chirp","Bloom"], ans:1 },
  { q:"What word means 'be together as one'?", opts:["Fight","Seldom","United","Lovely"], ans:2 },
  { q:"What do birds do in Spring?", opts:["Sleep","Migrate","Chirp merrily","Shiver"], ans:2 },
  { q:"In Autumn, what colour do leaves turn?", opts:["Blue and green","Red and orange","White and grey","Pink and purple"], ans:1 }
];

const seaTFData = [
  { text: "1. All the seasons agreed that Summer was the best.", answer: false, explain: "Each season thought it was the best ‚Äî they quarrelled!" },
  { text: "2. Lovely flowers bloomed when Spring came.", answer: true, explain: "Yes! Spring brings lovely flowers to full bloom." },
  { text: "3. Summer felt Winter was not cold enough.", answer: false, explain: "Winter felt Summer was too proud!" },
  { text: "4. Winter and Summer did not listen to each other.", answer: true, explain: "Yes! But Summer and Winter did not listen to each other." },
  { text: "5. Autumn decided to end the quarrel.", answer: false, explain: "Spring and Autumn decided to end the quarrel together." },
  { text: "6. The seasons became friends again.", answer: true, explain: "Yes! They became friends and promised never to fight again." }
];

let seaQuizIdx=0, seaQuizScore=0, seaAnswered=false;

let seasonsInited = false;
function initSeasons() {
  if(seasonsInited) return;
  seasonsInited = true;
  initSeaQuiz();
  initSeaTF();
  initAdjExercise();
  initJoiningExercise();
  initContractionExercise();
  initSeasonMatch();
}

function initSeaQuiz() {
  seaQuizIdx=0; seaQuizScore=0; seaAnswered=false;
  renderSeaQuestion();
}
function renderSeaQuestion() {
  const container=document.getElementById('sea-quiz-content');
  if(seaQuizIdx >= seasonsQuestions.length) {
    renderQuizResult(container, seaQuizScore, seasonsQuestions.length, 'sea');
    return;
  }
  const q=seasonsQuestions[seaQuizIdx];
  const pct=(seaQuizIdx/seasonsQuestions.length*100).toFixed(0);
  document.getElementById('sea-quiz-progress').style.width=pct+'%';
  seaAnswered=false;
  container.innerHTML=`
    <div class="question-box">
      <div class="question-num">Question ${seaQuizIdx+1} of ${seasonsQuestions.length}</div>
      <div class="question-text">üåà ${q.q}</div>
      <div class="options-grid">
        ${q.opts.map((o,i)=>`<button class="option-btn" onclick="answerSea(${i})">${['üÖê','üÖë','üÖí','üÖì'][i]} ${o}</button>`).join('')}
      </div>
      <div id="sea-feedback" class="feedback-msg"></div>
    </div>
    <div class="quiz-controls">
      <div class="score-display">‚≠ê Score: ${seaQuizScore}/${seaQuizIdx}</div>
      <button class="next-btn" onclick="nextSeaQuestion()" style="display:none" id="sea-next-btn">Next ‚û°Ô∏è</button>
    </div>
  `;
}
function answerSea(idx) {
  if(seaAnswered) return;
  seaAnswered=true;
  const q=seasonsQuestions[seaQuizIdx];
  const btns=document.querySelectorAll('#sea-quiz-content .option-btn');
  btns.forEach(b=>b.disabled=true);
  btns[idx].classList.add(idx===q.ans?'correct':'wrong');
  btns[q.ans].classList.add('correct');
  const fb=document.getElementById('sea-feedback');
  if(idx===q.ans){seaQuizScore++;fb.textContent='üéâ Correct! Wonderful!';fb.className='feedback-msg correct';}
  else{fb.textContent='‚ùå Oops! The correct answer is: '+q.opts[q.ans];fb.className='feedback-msg wrong';}
  document.getElementById('sea-next-btn').style.display='block';
}
function nextSeaQuestion(){seaQuizIdx++;renderSeaQuestion();}

function initSeaTF() {
  const container=document.getElementById('sea-tf-content');
  container.innerHTML=seaTFData.map((item,i)=>`
    <div class="tf-item" id="sea-tf-${i}">
      <div class="tf-text">${item.text}</div>
      <div class="tf-buttons">
        <button class="tf-btn t-btn" onclick="selectTF('sea',${i},'T')">TRUE</button>
        <button class="tf-btn f-btn" onclick="selectTF('sea',${i},'F')">FALSE</button>
      </div>
    </div>
  `).join('');
  document.getElementById('sea-tf-score').style.display='none';
}

// ADJECTIVES
const adjData = [
  { before:"I saw a", after:"elephant at the zoo.", choices:["big","yellow","long","square"], ans:"big" },
  { before:"My sister gifted me a", after:"pencil case.", choices:["black","yellow","square","long"], ans:"yellow" },
  { before:"The giraffe has a", after:"neck.", choices:["big","small","long","black"], ans:"long" },
  { before:"The", after:"lemons are in the basket.", choices:["two","small","delicious","big"], ans:"two" },
  { before:"I saw some", after:"clouds in the sky.", choices:["white","small","round","hot"], ans:"white" },
  { before:"Children love to eat", after:"mangoes and red watermelons.", choices:["ripe","cool","warm","cold"], ans:"ripe" }
];

function initAdjExercise() {
  const container=document.getElementById('adj-exercise');
  container.innerHTML=adjData.map((item,i)=>`
    <div class="blank-exercise">
      <div class="adj-sentence">${item.before} <input class="adj-input" id="adj-inp-${i}" placeholder="?"> ${item.after}</div>
      <div class="word-bank">${item.choices.map(c=>`<span class="word-chip" onclick="fillAdj(${i},'${c}',this)">${c}</span>`).join('')}</div>
    </div>
  `).join('');
}
function fillAdj(idx, word, chip) {
  document.getElementById(`adj-inp-${idx}`).value=word;
}
function checkAdj() {
  let score=0;
  adjData.forEach((item,i)=>{
    const inp=document.getElementById(`adj-inp-${i}`);
    inp.classList.remove('correct-ans','wrong-ans');
    if(inp.value.toLowerCase().trim()===item.ans.toLowerCase()){score++;inp.classList.add('correct-ans');}
    else{inp.classList.add('wrong-ans');inp.placeholder=item.ans;}
  });
  alert(`üéØ You got ${score} out of ${adjData.length} correct! ${score===adjData.length?'üéâ Perfect!':'Keep practising!'}`);
}

// JOINING WORDS
const joinData = [
  { s1:"The dog has a bone.", s2:"The ball.", ans:"and", q:"The dog has a bone ___ the ball." },
  { s1:"We play cricket.", s2:"We play football.", ans:"and", q:"We play cricket ___ we play football." },
  { s1:"Minu is tall.", s2:"Her brother is short.", ans:"but", q:"Minu is tall ___ her brother is short." },
  { s1:"The bird made a nest.", s2:"The bird laid eggs in it.", ans:"and", q:"The bird made a nest ___ laid eggs in it." },
  { s1:"The dog is sleeping.", s2:"The cat is playing.", ans:"and", q:"The dog is sleeping ___ the cat is playing." },
  { s1:"My grandfather is strict.", s2:"He is kind.", ans:"but", q:"My grandfather is strict ___ he is kind." }
];
function initJoiningExercise() {
  const container=document.getElementById('joining-exercise');
  container.innerHTML=joinData.map((item,i)=>`
    <div class="join-sentence">
      <strong>${i+1}.</strong> ${item.s1.replace(/\./,'')} 
      <select class="join-select" id="join-sel-${i}">
        <option value="">pick</option>
        <option value="and">and</option>
        <option value="but">but</option>
      </select> 
      ${item.s2}
    </div>
  `).join('');
}
function checkJoining() {
  let score=0;
  joinData.forEach((item,i)=>{
    const sel=document.getElementById(`join-sel-${i}`);
    sel.classList.remove('correct-ans','wrong-ans');
    if(sel.value===item.ans){score++;sel.classList.add('correct-ans');}
    else{sel.classList.add('wrong-ans');}
  });
  alert(`üîó You got ${score} out of ${joinData.length}! ${score===joinData.length?'üéâ Excellent!':'Tip: Use "and" for similar things, "but" for opposite things.'}`);
}

// CONTRACTIONS
const contractionData = [
  { full:"he will", opts:["he'l","he'll","hew'll"], ans:"he'll" },
  { full:"we are", opts:["we'e","wea'e","we're"], ans:"we're" },
  { full:"will not", opts:["won't","willn't","wi'not"], ans:"won't" },
  { full:"she is", opts:["sh'is","she's","sh's"], ans:"she's" },
  { full:"cannot", opts:["c'nnot","cann't","can't"], ans:"can't" }
];
function initContractionExercise() {
  const container=document.getElementById('contraction-exercise');
  container.innerHTML=contractionData.map((item,i)=>`
    <div class="blank-exercise" style="margin-bottom:12px;">
      <div style="font-size:17px; font-weight:700; margin-bottom:10px;">${i+1}. <span style="color:#764ba2;">${item.full}</span> ‚Üí 
        <select class="join-select" id="cont-sel-${i}">
          <option value="">pick</option>
          ${item.opts.map(o=>`<option value="${o}">${o}</option>`).join('')}
        </select>
      </div>
    </div>
  `).join('');
}
function checkContractions() {
  let score=0;
  contractionData.forEach((item,i)=>{
    const sel=document.getElementById(`cont-sel-${i}`);
    sel.classList.remove('correct-ans','wrong-ans');
    if(sel.value===item.ans){score++;sel.classList.add('correct-ans');}
    else{sel.classList.add('wrong-ans');}
  });
  alert(`‚úÇÔ∏è You got ${score} out of ${contractionData.length}! ${score===contractionData.length?'üéâ Perfect! You know your short forms!':'Review the apostrophe cards above!'}`);
}

// SEASON MATCHING
const seasonMatchItems = [
  { item:"üå∏ Flowers bloom", season:"Spring", color:"#27ae60" },
  { item:"‚òÄÔ∏è Sunshine and fruits", season:"Summer", color:"#f39c12" },
  { item:"üçÇ Leaves turn red", season:"Autumn", color:"#d35400" },
  { item:"‚ùÑÔ∏è Snow falls", season:"Winter", color:"#2980b9" },
  { item:"üê¶ Birds chirp happily", season:"Spring", color:"#27ae60" },
  { item:"üß§ Wear gloves", season:"Winter", color:"#2980b9" },
  { item:"üåæ Grains like rice harvested", season:"Autumn", color:"#d35400" },
  { item:"üèä Children love to swim", season:"Summer", color:"#f39c12" }
];
function initSeasonMatch() {
  const container=document.getElementById('season-match-content');
  container.innerHTML=seasonMatchItems.map((item,i)=>`
    <div style="display:flex; align-items:center; gap:12px; margin-bottom:12px; flex-wrap:wrap;">
      <div style="flex:1; font-size:16px; font-weight:600; background:#f8f9fa; padding:12px 16px; border-radius:12px;">${item.item}</div>
      <select style="border:3px solid #e0e0e0; border-radius:12px; padding:8px 14px; font-family:'Nunito',sans-serif; font-weight:700; font-size:15px; outline:none; background:white;" id="smatch-${i}">
        <option value="">Which season?</option>
        <option value="Spring">üå∏ Spring</option>
        <option value="Summer">‚òÄÔ∏è Summer</option>
        <option value="Autumn">üçÇ Autumn</option>
        <option value="Winter">‚ùÑÔ∏è Winter</option>
      </select>
      <span id="smatch-fb-${i}" style="font-size:20px;"></span>
    </div>
  `).join('')+`<button class="check-btn" onclick="checkSeasonMatch()">Check Matches! üéØ</button>
  <div id="smatch-score" style="margin-top:15px; font-size:18px; font-weight:700; display:none;"></div>`;
}
function checkSeasonMatch() {
  let score=0;
  seasonMatchItems.forEach((item,i)=>{
    const sel=document.getElementById(`smatch-${i}`);
    const fb=document.getElementById(`smatch-fb-${i}`);
    sel.style.borderColor='#e0e0e0'; // reset
    if(sel.value===item.season){score++;fb.textContent='‚úÖ';sel.style.borderColor='#27ae60';}
    else{fb.textContent= sel.value==='' ? '‚ùì' : '‚ùå';sel.style.borderColor='#e74c3c';}
  });
  const scoreEl=document.getElementById('smatch-score');
  scoreEl.textContent=`${score>=7?'üéâ':'üí™'} ${score} out of ${seasonMatchItems.length} correct! ${score>=7?'Excellent!':'Try again!'}`;
  scoreEl.style.display='block';
  scoreEl.style.color=score>=7?'#27ae60':'#e74c3c';
}
</script>
</body>
</html>
